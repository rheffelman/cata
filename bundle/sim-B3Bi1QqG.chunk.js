import{l as e,Y as a,Z as t,o as s,q as l,_ as i,s as n,$ as r,t as o,w as d,T as p,x as c,y as g,z as m,A as u,D as h,H as S,F as I,J as f}from"./preset_utils-DkHhB_Bm.chunk.js";import{R as v}from"./suggest_reforges_action-bi03Qr31.chunk.js";import{T as y,aC as T,S as A,a3 as R,G as w,an as O,ao as F,ap as P,aD as b,a8 as D,a9 as k,aa as C,ab as H,aE as M,ac as x,a as z,ad as L,ae as E,af as G,aw as J,aF as N,ax as U,ay as B,ag as j,ah as $,ai as _,aj as q,aG as W,az as V,aA as K,aH as Y,aI as Z,aB as Q,F as X,R as ee}from"./detailed_results-C-DDAdQD.chunk.js";import{s as ae}from"./apl_utils-CsDYhaBB.chunk.js";const te=e({fieldName:"startingRage",label:"Starting Rage",labelTooltip:"Initial Rage at the start of each iteration."}),se={inputs:[a({fieldName:"maintainFaerieFire",label:"Maintain Faerie Fire",labelTooltip:"Maintain Faerie Fire debuff. Overwrites any external Sunder effects specified in settings."}),a({fieldName:"maintainDemoralizingRoar",label:"Maintain Demo Roar",labelTooltip:"Keep Demoralizing Roar active on the primary target. If a stronger debuff is active, will not cast."}),t({fieldName:"demoTime",label:"Demo Roar refresh leeway",labelTooltip:"Refresh Demoralizing Roar when remaining duration is less than this value (in seconds). Larger values provide safety buffer against misses, but at the cost of lower DPS.",showWhen:e=>e.getSimpleRotation().maintainDemoralizingRoar}),t({fieldName:"pulverizeTime",label:"Pulverize refresh leeway",labelTooltip:"Refresh Pulverize when remaining duration is less than this value (in seconds). Note that Mangle, Thrash, and Faerie Fire usage on cooldown takes priority over this rule, unless Lacerate itself is about to fall off."}),a({fieldName:"prepullStampede",label:"Assume pre-pull Stampede",labelTooltip:"Activate Stampede Haste buff at the start of each pull. Models the effects of initiating the pull with Feral Charge.",showWhen:e=>e.getTalents().stampede>0,changeEmitter:e=>y.onAny([e.rotationChangeEmitter,e.talentsChangeEmitter])})]},le={items:[{id:65190,enchant:4206,gems:[52294,52242],reforging:135},{id:69880,randomSuffix:-137,reforging:163},{id:65083,enchant:4198,gems:[52242],reforging:163},{id:65035,enchant:4090,reforging:163},{id:65060,enchant:4103,gems:[52242,52242],reforging:163},{id:65050,enchant:3850,gems:[0],reforging:163},{id:65073,enchant:3260,gems:[52242,0],reforging:163},{id:60231,gems:[52242,52242,52242],reforging:163},{id:65191,enchant:4127,gems:[52233,52242],reforging:163},{id:65144,enchant:4062,gems:[52233],reforging:149},{id:65367,randomSuffix:-137,reforging:163},{id:65082,reforging:135},{id:65048},{id:65109},{id:65139,enchant:4098,reforging:163},{},{id:64671,gems:[52242],reforging:149}]},ie={items:[{id:41678,enchant:4222,gems:[41339,45880]},{id:45517,gems:[40008]},{id:45245,enchant:44957,gems:[40008,40008]},{id:45496,enchant:3294,gems:[42702]},{id:45473,enchant:3832,gems:[40008,40008,40008]},{id:45611,enchant:3850,gems:[40008,0]},{id:46043,enchant:63770,gems:[40008,40008,0]},{id:46095,gems:[40008,40008,40008]},{id:45536,enchant:38373,gems:[40008,40008,40008]},{id:45232,enchant:55016,gems:[40008]},{id:45471,gems:[40091]},{id:45608,gems:[40008]},{id:45158},{id:46021},{id:45533,enchant:3870,gems:[40008,40008]},{},{id:45509}]},ne={items:[{id:48204,enchant:3878,gems:[41339,40169]},{id:47133,gems:[49110]},{id:48207,enchant:3852,gems:[40119]},{id:47545,enchant:3294,gems:[40119]},{id:47004,enchant:3832,gems:[40119,40119,40119]},{id:45611,enchant:3850,gems:[40119,0]},{id:48203,enchant:3860,gems:[40119,0]},{id:47112,gems:[40119,40119,40119]},{id:46975,enchant:3822,gems:[40119,40119,40119]},{id:47077,enchant:4223,gems:[40119,40119]},{id:47955,gems:[40119]},{id:47075,gems:[40119]},{id:47088},{id:47131},{id:47130,enchant:3870,gems:[40119,40119]},{},{id:45509}]},re={items:[{id:51296,enchant:3878,gems:[41380,40119]},{id:50682,gems:[40130]},{id:51299,enchant:3852,gems:[40119]},{id:50466,enchant:3294,gems:[40119]},{id:50656,enchant:3330,gems:[40119,40119,40119]},{id:50670,enchant:3850,gems:[40119,0]},{id:51295,enchant:3860,gems:[40119,0]},{id:50707,gems:[40119,40119,40119]},{id:51297,enchant:3822,gems:[40119,40119]},{id:50607,enchant:4223,gems:[40119,40119]},{id:50622,gems:[40119]},{id:50404,gems:[40119]},{id:47088},{id:50364},{id:51432,enchant:3870,gems:[40119,40119]},{},{id:50456}]},oe={type:"TypeAPL",simple:{cooldowns:{cooldowns:[],hpPercentForDefensives:.5}},prepullActions:[{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}},{action:{activateAura:{auraId:{spellId:81017}}},doAtValue:{const:{val:"-0.1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentHealthPercent:{}},rhs:{const:{val:"30%"}}}},castSpell:{spellId:{spellId:22842}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{currentHealthPercent:{}},rhs:{const:{val:"40%"}}}},castSpell:{spellId:{spellId:61336}}}},{action:{condition:{and:{vals:[{dotIsActive:{spellId:{spellId:33745}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},{cmp:{op:"OpLe",lhs:{dotRemainingTime:{spellId:{spellId:33745}}},rhs:{const:{val:"4s"}}}}]}},castSpell:{spellId:{spellId:80313}}}},{action:{condition:{or:{vals:[{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:770}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:770}}},rhs:{const:{val:"6s"}}}}]}},castSpell:{spellId:{spellId:16857}}}},{action:{condition:{auraShouldRefresh:{auraId:{spellId:99},maxOverlap:{const:{val:"4s"}}}},castSpell:{spellId:{spellId:99}}}},{action:{castSpell:{spellId:{spellId:50334}}}},{action:{castSpell:{spellId:{spellId:5229}}}},{action:{castSpell:{spellId:{spellId:82174}}}},{action:{condition:{and:{vals:[{not:{val:{dotIsActive:{spellId:{spellId:33745}}}}},{not:{val:{auraIsActive:{auraId:{spellId:50334}}}}}]}},castSpell:{spellId:{spellId:33745}}}},{action:{castSpell:{spellId:{spellId:33878}}}},{action:{castSpell:{spellId:{spellId:77758}}}},{action:{castSpell:{spellId:{spellId:16857}}}},{action:{condition:{and:{vals:[{dotIsActive:{spellId:{spellId:33745}}},{cmp:{op:"OpEq",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},{or:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:80951}}}}},{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:80951}}},rhs:{const:{val:"4s"}}}}]}}]}},castSpell:{spellId:{spellId:80313}}}},{action:{condition:{cmp:{op:"OpLt",lhs:{auraNumStacks:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33745}}},rhs:{const:{val:"3"}}}},castSpell:{spellId:{spellId:33745}}}},{action:{castSpell:{spellId:{spellId:6807}}}}]},de=s("Preraid Preset",{items:[{id:59455,enchant:4206,gems:[52294,59477,59478]},{id:52350,gems:[52242],reforging:149},{id:64731,enchant:4198,gems:[52233],reforging:156},{id:58191,enchant:4090,reforging:135},{id:67135,enchant:4103,gems:[52242,52242],reforging:163},{id:63454,enchant:3850,gems:[0],reforging:163},{id:62433,enchant:3260,gems:[52242,0],reforging:149},{id:56537,gems:[52242,52242],reforging:135},{id:60288,enchant:4127,gems:[52233,52242],reforging:163},{id:58482,enchant:4062,gems:[52242],reforging:149},{id:52348,gems:[52242],reforging:163},{id:52348,gems:[52242],reforging:163},{id:56347},{id:56370},{id:55066,enchant:4098,reforging:163},{},{id:64671,gems:[52242],reforging:149}]}),pe=s("P1",le),ce=s("P2",ie),ge=s("P3",ne),me=s("P4",re),ue=T.create({maintainFaerieFire:!0,maintainDemoralizingRoar:!0,demoTime:4,pulverizeTime:4,prepullStampede:!0}),he=l("APL Default",oe),Se=i("Simple Default",A.SpecGuardianDruid,ue),Ie={name:"Standard",data:R.create({talentsString:"-2300322312310001220311-020331",glyphs:w.create({prime1:O.GlyphOfMangle,prime2:O.GlyphOfLacerate,prime3:O.GlyphOfBerserk,major1:F.GlyphOfFrenziedRegeneration,major2:F.GlyphOfMaul,major3:F.GlyphOfRebirth,minor1:P.GlyphOfDash,minor2:P.GlyphOfChallengingRoar,minor3:P.GlyphOfUnburdenedRebirth})})},fe=b.create({startingRage:15}),ve=D.create({flask:k.FlaskOfSteelskin,food:C.FoodSkeweredEel,prepopPotion:H.PotionOfTheTolvir,defaultPotion:H.PotionOfTheTolvir,defaultConjured:M.ConjuredHealthstone,tinkerHands:x.TinkerHandsSynapseSprings}),ye=n(A.SpecGuardianDruid,{cssClass:"guardian-druid-sim-ui",cssScheme:z.getCssClass(z.Druid),knownIssues:[],warnings:[],epStats:[L.StatHealth,L.StatStamina,L.StatAgility,L.StatArmor,L.StatBonusArmor,L.StatDodge,L.StatMastery,L.StatStrength,L.StatAttackPower,L.StatMeleeHit,L.StatExpertise,L.StatMeleeCrit,L.StatMeleeHaste,L.StatNatureResistance],epPseudoStats:[E.PseudoStatMainHandDps],epReferenceStat:L.StatAgility,displayStats:[L.StatHealth,L.StatStamina,L.StatAgility,L.StatArmor,L.StatBonusArmor,L.StatDodge,L.StatMastery,L.StatStrength,L.StatAttackPower,L.StatMeleeHit,L.StatExpertise,L.StatMeleeCrit,L.StatMeleeHaste,L.StatSpellHit,L.StatSpellCrit,L.StatNatureResistance],defaults:{gear:de.gear,epWeights:G.fromMap({[L.StatHealth]:.04,[L.StatStamina]:.99,[L.StatAgility]:1,[L.StatArmor]:1.02,[L.StatBonusArmor]:.23,[L.StatDodge]:.97,[L.StatMastery]:.35,[L.StatStrength]:.11,[L.StatAttackPower]:.1,[L.StatMeleeHit]:.075,[L.StatSpellHit]:.195,[L.StatExpertise]:.15,[L.StatMeleeCrit]:.11,[L.StatMeleeHaste]:0},{[E.PseudoStatMainHandDps]:0}),statCaps:(()=>{const e=(new G).withStat(L.StatMeleeHit,5*J),a=(new G).withStat(L.StatSpellHit,4*N),t=(new G).withStat(L.StatExpertise,20*U);return e.add(a).add(t)})(),consumes:ve,rotationType:B.TypeSimple,simpleRotation:ue,talents:Ie.data,specOptions:fe,raidBuffs:j.create({powerWordFortitude:!0,markOfTheWild:!0,bloodlust:!0,strengthOfEarthTotem:!0,abominationsMight:!0,windfuryTotem:!0,communion:!0,devotionAura:!0}),partyBuffs:$.create({}),individualBuffs:_.create({}),debuffs:q.create({ebonPlaguebringer:!0,criticalMass:!0,bloodFrenzy:!0,frostFever:!0})},playerIconInputs:[],rotationInputs:se,includeBuffDebuffInputs:[r,o],excludeBuffDebuffInputs:[],otherInputs:{inputs:[d,p,c,g,m,u,h,S,te,I]},encounterPicker:{showExecuteProportion:!1},presets:{talents:[Ie],rotations:[Se,he],gear:[de,pe]},autoRotation:e=>he.rotation.rotation,simpleRotation:(e,a,t)=>{const[s,l]=ae(t),i=1==e.getTalents().stampede?81016:81017,n=W.fromJsonString(`{"action":{"activateAura":{"auraId":{"spellId":${i.toFixed(0)}}}},"doAtValue":{"const":{"val":"-0.1s"}}}`),r=e.getTalents().pulverize?80313:33745,o=V.fromJsonString(`{"condition":{"and":{"vals":[{"dotIsActive":{"spellId":{"spellId":33745}}},{"cmp":{"op":"OpEq","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},{"cmp":{"op":"OpLe","lhs":{"dotRemainingTime":{"spellId":{"spellId":33745}}},"rhs":{"const":{"val":"${a.pulverizeTime.toFixed(1)}s"}}}}]}},"castSpell":{"spellId":{"spellId":${r.toFixed(0)}}}}`),d=V.fromJsonString('{"condition":{"or":{"vals":[{"not":{"val":{"auraIsActive":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":770}}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":770}}},"rhs":{"const":{"val":"6s"}}}}]}},"castSpell":{"spellId":{"spellId":16857}}}'),p=V.fromJsonString(`{"condition":{"auraShouldRefresh":{"auraId":{"spellId":99},"maxOverlap":{"const":{"val":"${a.demoTime.toFixed(1)}s"}}}},"castSpell":{"spellId":{"spellId":99}}}`),c=V.fromJsonString('{"castSpell":{"spellId":{"spellId":50334}}}'),g=V.fromJsonString('{"castSpell":{"spellId":{"spellId":5229}}}'),m=V.fromJsonString('{"castSpell":{"spellId":{"spellId":82174}}}'),u=V.fromJsonString('{"condition":{"and":{"vals":[{"not":{"val":{"dotIsActive":{"spellId":{"spellId":33745}}}}},{"not":{"val":{"auraIsActive":{"auraId":{"spellId":50334}}}}}]}},"castSpell":{"spellId":{"spellId":33745}}}'),h=V.fromJsonString('{"castSpell":{"spellId":{"spellId":33878}}}'),S=V.fromJsonString('{"castSpell":{"spellId":{"spellId":77758}}}'),I=V.fromJsonString('{"castSpell":{"spellId":{"spellId":16857}}}'),f=V.fromJsonString(`{"condition":{"and":{"vals":[{"dotIsActive":{"spellId":{"spellId":33745}}},{"cmp":{"op":"OpEq","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},{"or":{"vals":[{"not":{"val":{"auraIsActive":{"auraId":{"spellId":80951}}}}},{"cmp":{"op":"OpLe","lhs":{"auraRemainingTime":{"auraId":{"spellId":80951}}},"rhs":{"const":{"val":"${a.pulverizeTime.toFixed(1)}s"}}}}]}}]}},"castSpell":{"spellId":{"spellId":80313}}}`),v=V.fromJsonString('{"condition":{"cmp":{"op":"OpLt","lhs":{"auraNumStacks":{"sourceUnit":{"type":"CurrentTarget"},"auraId":{"spellId":33745}}},"rhs":{"const":{"val":"3"}}}},"castSpell":{"spellId":{"spellId":33745}}}'),y=V.fromJsonString('{"castSpell":{"spellId":{"spellId":6807}}}');return s.push(...[a.prepullStampede?n:null].filter((e=>e))),l.push(...[o,a.maintainFaerieFire?d:null,a.maintainDemoralizingRoar?p:null,c,g,m,u,h,S,I,f,v,y].filter((e=>e))),K.create({simple:Y.create({cooldowns:Z.create({hpPercentForDefensives:t.hpPercentForDefensives})}),prepullActions:s,priorityList:l.map((e=>Q.create({action:e})))})},raidSimPresets:[{spec:A.SpecGuardianDruid,talents:Ie.data,specOptions:fe,consumes:ve,defaultFactionRaces:{[X.Unknown]:ee.RaceUnknown,[X.Alliance]:ee.RaceNightElf,[X.Horde]:ee.RaceTauren},defaultGear:{[X.Unknown]:{},[X.Alliance]:{1:pe.gear,2:ce.gear,3:ge.gear,4:me.gear},[X.Horde]:{1:pe.gear,2:ce.gear,3:ge.gear,4:me.gear}}}]});class Te extends f{constructor(e,a){super(e,a,ye),a.sim.waitForInit().then((()=>{new v(this)}))}}export{Te as G};
